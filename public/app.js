class Budget extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      expense: {
        date: "",
        item: "",
        price: ""
      },
      expenseList: [],
      totalCount: '',
      RemainingBudget: "",
      expenseBanner: "",
      date: new Date().toLocaleString()
    };
    this.handleChangePrice = this.handleChangePrice.bind(this);
    this.handleChangeItem = this.handleChangeItem.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.analyze = this.analyze.bind(this);
    this.getCurrentMonth = this.getCurrentMonth.bind(this);
    this.handleAjax = this.handleAjax.bind(this);
  }

  handleChangePrice = e => {
    const name = e.target.name;
    const value = e.target.value;
    const allowed = /^[0-9\b]+$/;

    if (e.target.value === '' || allowed.test(e.target.value)) {
      this.setState(e => ({
        expense: { ...e.expense,
          [name]: value
        }
      }));
    }
  };
  handleChangeItem = e => {
    const name = e.target.name;
    const value = e.target.value;
    this.setState(e => ({
      expense: { ...e.expense,
        [name]: value
      }
    }));
  }; //

  handleSubmit = e => {
    e.preventDefault();
    this.setState(e => ({
      expenseList: [...e.expenseList, e.expense],
      expense: {
        date: "",
        item: "",
        price: ""
      }
    }), () => {
      this.handleAjax();
    });
  };
  handleAjax = () => {
    var data = this.state.expenseList;
    $.ajax({
      method: 'POST',
      url: 'http://localhost:8000/',
      contentType: 'application/json',
      data: JSON.stringify(data),
      success: data => {
        console.log('send data to server');
      },
      error: () => {
        console.log('error');
      }
    });
  };
  getCurrentMonth = () => {
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var month = monthNames[new Date().getMonth()];
    return month;
  };
  analyze = () => {
    var count = 0;

    for (var i = 0; i < this.state.expenseList.length; i++) {
      var data = parseInt(this.state.expenseList[i].price);
      count += data;
    }

    const totalBudget = this.props.currentBudget;
    const underBudget = `You have $${totalBudget - count}.00 left to spend.`;
    const overBudget = `You went over budget $${Math.abs(totalBudget - count)}.00 and have $0.00 to spend`;
    let budget;

    if (totalBudget - count > 0) {
      budget = underBudget;
    } else {
      budget = overBudget;
    }

    this.setState({
      totalCount: `In the Month of ${this.getCurrentMonth()} you spent a total of $${count}.00`,
      RemainingBudget: budget,
      expenseBanner: `${this.getCurrentMonth()}'s Budget Report`
    });
    return count;
  };

  render() {
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h3", null, "Log Expenses"), /*#__PURE__*/React.createElement("form", null, /*#__PURE__*/React.createElement("label", null, "Date:", /*#__PURE__*/React.createElement("input", {
      name: "date",
      onChange: this.handleChangeItem,
      type: "date",
      value: this.state.expense.date
    }), /*#__PURE__*/React.createElement("br", null)), /*#__PURE__*/React.createElement("label", null, "Item:", /*#__PURE__*/React.createElement("input", {
      name: "item",
      onChange: this.handleChangeItem,
      type: "text",
      value: this.state.expense.item,
      placeholder: "type expense here ...."
    }), /*#__PURE__*/React.createElement("br", null)), "Price:", /*#__PURE__*/React.createElement("input", {
      name: "price",
      onChange: this.handleChangePrice,
      type: "number",
      value: this.state.expense.price,
      placeholder: "enter whole price only"
    }), " ", /*#__PURE__*/React.createElement("button", {
      onClick: this.handleSubmit
    }, "Submit"), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("br", null)), /*#__PURE__*/React.createElement("ul", null, this.state.expenseList.map((list, index) => /*#__PURE__*/React.createElement("li", {
      key: index
    }, list.date, " \u2796 ", list.item, " \u2796 $", list.price, ".00"))), /*#__PURE__*/React.createElement("br", null), /*#__PURE__*/React.createElement("img", {
      src: "/line.jpeg",
      width: "350",
      height: "10"
    }), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", null, this.state.expenseBanner)), this.state.totalCount, /*#__PURE__*/React.createElement("p", null, this.state.RemainingBudget), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("button", {
      className: "budget",
      onClick: this.analyze
    }, "Generate Budget Report")));
  }

}

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      budgets: {
        budget: ''
      },
      currentBudget: "",
      date: new Date().toLocaleString()
    };
    this.tick.bind(this);
    this.handleAlternate = this.handleAlternate.bind(this);
    this.handleBudgetChange = this.handleBudgetChange.bind(this);
    this.getCurrentMonth = this.getCurrentMonth.bind(this);
  }

  componentDidMount = () => {
    this.intervalID = setInterval(() => this.tick(), 1000);
  };
  componentWillUnmount = () => {
    clearInterval(this.intervalID);
  };
  tick = () => {
    this.setState({
      date: new Date().toLocaleString()
    });
  };
  getCurrentMonth = () => {
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var month = monthNames[new Date().getMonth()];
    return month;
  };
  handleBudgetChange = e => {
    const value = e.target.value;
    const allowed = /^[0-9\b]+$/;

    if (e.target.value === '' || allowed.test(e.target.value)) {
      this.setState({
        currentBudget: value
      });
    }
  };
  handleAlternate = e => {
    e.preventDefault();
    var currentBudget = this.state.currentBudget;
    this.setState({
      budgets: {
        budget: currentBudget
      }
    });
  };

  render() {
    return /*#__PURE__*/React.createElement("div", {
      className: "main"
    }, /*#__PURE__*/React.createElement("header", null, /*#__PURE__*/React.createElement("img", {
      src: "./banner.jpeg",
      width: "350",
      height: "100"
    }), /*#__PURE__*/React.createElement("h3", null, this.state.date)), /*#__PURE__*/React.createElement("form", null, /*#__PURE__*/React.createElement("label", null, "Enter Budget:", /*#__PURE__*/React.createElement("input", {
      name: "budget",
      onChange: this.handleBudgetChange,
      type: "number",
      value: this.state.currentBudget
    })), /*#__PURE__*/React.createElement("button", {
      onClick: this.handleAlternate.bind(this)
    }, "Add Budget")), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("p", null, " ", /*#__PURE__*/React.createElement("b", null, this.getCurrentMonth(), "'s Budget: "), /*#__PURE__*/React.createElement("div", {
      className: "budgetText"
    }, "$", this.state.budgets.budget, ".00"))), /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement(Budget, {
      currentBudget: this.state.currentBudget
    })));
  }

}

ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NsaWVudC9hcHAuanN4Il0sIm5hbWVzIjpbIkJ1ZGdldCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiZXhwZW5zZSIsImRhdGUiLCJpdGVtIiwicHJpY2UiLCJleHBlbnNlTGlzdCIsInRvdGFsQ291bnQiLCJSZW1haW5pbmdCdWRnZXQiLCJleHBlbnNlQmFubmVyIiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwiaGFuZGxlQ2hhbmdlUHJpY2UiLCJiaW5kIiwiaGFuZGxlQ2hhbmdlSXRlbSIsImhhbmRsZVN1Ym1pdCIsImFuYWx5emUiLCJnZXRDdXJyZW50TW9udGgiLCJoYW5kbGVBamF4IiwiZSIsIm5hbWUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImFsbG93ZWQiLCJ0ZXN0Iiwic2V0U3RhdGUiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGEiLCIkIiwiYWpheCIsIm1ldGhvZCIsInVybCIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJtb250aE5hbWVzIiwibW9udGgiLCJnZXRNb250aCIsImNvdW50IiwiaSIsImxlbmd0aCIsInBhcnNlSW50IiwidG90YWxCdWRnZXQiLCJjdXJyZW50QnVkZ2V0IiwidW5kZXJCdWRnZXQiLCJvdmVyQnVkZ2V0IiwiTWF0aCIsImFicyIsImJ1ZGdldCIsInJlbmRlciIsIm1hcCIsImxpc3QiLCJpbmRleCIsIkFwcCIsImJ1ZGdldHMiLCJ0aWNrIiwiaGFuZGxlQWx0ZXJuYXRlIiwiaGFuZGxlQnVkZ2V0Q2hhbmdlIiwiY29tcG9uZW50RGlkTW91bnQiLCJpbnRlcnZhbElEIiwic2V0SW50ZXJ2YWwiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNsZWFySW50ZXJ2YWwiLCJSZWFjdERPTSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJBQUVBLE1BQU1BLE1BQU4sU0FBcUJD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SSxNQUFBLE1BQU0sRUFBQztBQURYLE1BRkEsZUFLRSxnQ0FBSyxLQUFLcEQsS0FBTCxDQUFXRSxJQUFoQixDQUxGLENBRkYsZUFTRSwrQ0FDQSxpRUFFRTtBQUFPLE1BQUEsSUFBSSxFQUFHLFFBQWQ7QUFBdUIsTUFBQSxRQUFRLEVBQUUsS0FBSzBELGtCQUF0QztBQUEwRCxNQUFBLElBQUksRUFBQyxRQUEvRDtBQUF3RSxNQUFBLEtBQUssRUFBRSxLQUFLNUQsS0FBTCxDQUFXOEM7QUFBMUYsTUFGRixDQURBLGVBS0U7QUFBUSxNQUFBLE9BQU8sRUFBRSxLQUFLYSxlQUFMLENBQXFCL0MsSUFBckIsQ0FBMEIsSUFBMUI7QUFBakIsb0JBTEYsQ0FURixlQWlCQSw4Q0FDQSxpREFBSSwrQkFBSSxLQUFLSSxlQUFMLEVBQUosZ0JBQUosZUFBOEM7QUFBSyxNQUFBLFNBQVMsRUFBQztBQUFmLFlBQThCLEtBQUtoQixLQUFMLENBQVd5RCxPQUFYLENBQW1CTixNQUFqRCxRQUE5QyxDQURBLENBakJBLGVBcUJBLDhDQUNFLG9CQUFDLE1BQUQ7QUFBUSxNQUFBLGFBQWEsRUFBRSxLQUFLbkQsS0FBTCxDQUFXOEM7QUFBbEMsTUFERixDQXJCQSxDQURGO0FBNEJEOztBQXpGK0I7O0FBNEZsQ29CLFFBQVEsQ0FBQ2QsTUFBVCxlQUFnQixvQkFBQyxHQUFELE9BQWhCLEVBQXlCZSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBekIiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuY2xhc3MgQnVkZ2V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXhwZW5zZToge1xuICAgICAgICBkYXRlOiBcIlwiLFxuICAgICAgICBpdGVtOiBcIlwiLFxuICAgICAgICBwcmljZTogXCJcIlxuICAgICAgfSxcbiAgICAgIGV4cGVuc2VMaXN0OiBbXSxcbiAgICAgIHRvdGFsQ291bnQ6ICcnLFxuICAgICAgUmVtYWluaW5nQnVkZ2V0OiBcIlwiLFxuICAgICAgZXhwZW5zZUJhbm5lcjogXCJcIixcbiAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKVxuICAgIH07XG5cbiAgICB0aGlzLmhhbmRsZUNoYW5nZVByaWNlID0gdGhpcy5oYW5kbGVDaGFuZ2VQcmljZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2VJdGVtID0gdGhpcy5oYW5kbGVDaGFuZ2VJdGVtLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcylcbiAgICB0aGlzLmFuYWx5emUgPSB0aGlzLmFuYWx5emUuYmluZCh0aGlzKVxuICAgIHRoaXMuZ2V0Q3VycmVudE1vbnRoID0gdGhpcy5nZXRDdXJyZW50TW9udGguYmluZCh0aGlzKVxuICAgIHRoaXMuaGFuZGxlQWpheCA9IHRoaXMuaGFuZGxlQWpheC5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVDaGFuZ2VQcmljZSA9IGUgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBlLnRhcmdldC5uYW1lXG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuICAgIGNvbnN0IGFsbG93ZWQgPSAvXlswLTlcXGJdKyQvO1xuXG4gICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSAnJyB8fCBhbGxvd2VkLnRlc3QoZS50YXJnZXQudmFsdWUpKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShlID0+ICh7XG4gICAgICBleHBlbnNlOiB7IC4uLmUuZXhwZW5zZSwgW25hbWVdOiB2YWx1ZSB9XG4gICAgfSkpO1xuICB9XG4gIH07XG5cbiAgaGFuZGxlQ2hhbmdlSXRlbSA9IGUgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBlLnRhcmdldC5uYW1lXG4gICAgY29uc3QgdmFsdWUgPSBlLnRhcmdldC52YWx1ZVxuXG4gICAgdGhpcy5zZXRTdGF0ZShlID0+ICh7XG4gICAgICBleHBlbnNlOiB7IC4uLmUuZXhwZW5zZSwgW25hbWVdOiB2YWx1ZSB9XG4gICAgfSkpO1xuICB9O1xuXG5cbiAgLy9cblxuICBoYW5kbGVTdWJtaXQgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKGUgPT4gKHtcbiAgICAgIGV4cGVuc2VMaXN0OiBbLi4uZS5leHBlbnNlTGlzdCwgZS5leHBlbnNlXSxcbiAgICAgIGV4cGVuc2U6IHsgIGRhdGU6IFwiXCIgLCBpdGVtOiBcIlwiLCBwcmljZTogXCJcIn1cbiAgICB9KSwgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVBamF4KClcbiAgICB9KVxuICB9O1xuXG4gIGhhbmRsZUFqYXggPSAoKSA9PiB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLnN0YXRlLmV4cGVuc2VMaXN0XG4gICAgJC5hamF4KHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwLycsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICBzdWNjZXNzOiAoZGF0YSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZW5kIGRhdGEgdG8gc2VydmVyJylcbiAgICAgIH0pLFxuICAgICAgZXJyb3I6ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJylcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZ2V0Q3VycmVudE1vbnRoID0gKCkgPT4ge1xuICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl07XG4gICAgdmFyIG1vbnRoID0gbW9udGhOYW1lc1tuZXcgRGF0ZSgpLmdldE1vbnRoKCldXG4gICAgcmV0dXJuIG1vbnRoXG4gIH1cblxuICBhbmFseXplID0gKCkgPT4ge1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPTA7IGkgPCB0aGlzLnN0YXRlLmV4cGVuc2VMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBwYXJzZUludCh0aGlzLnN0YXRlLmV4cGVuc2VMaXN0W2ldLnByaWNlKVxuICAgICAgICAgIGNvdW50Kz0gZGF0YVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG90YWxCdWRnZXQgPSB0aGlzLnByb3BzLmN1cnJlbnRCdWRnZXRcbiAgICAgICAgY29uc3QgdW5kZXJCdWRnZXQgPSBgWW91IGhhdmUgJCR7dG90YWxCdWRnZXQtY291bnR9LjAwIGxlZnQgdG8gc3BlbmQuYFxuICAgICAgICBjb25zdCBvdmVyQnVkZ2V0ID0gYFlvdSB3ZW50IG92ZXIgYnVkZ2V0ICQke01hdGguYWJzKHRvdGFsQnVkZ2V0LWNvdW50KX0uMDAgYW5kIGhhdmUgJDAuMDAgdG8gc3BlbmRgXG4gICAgICAgIGxldCBidWRnZXQ7XG5cbiAgICAgICAgaWYgKHRvdGFsQnVkZ2V0LWNvdW50ID4gMCkge1xuICAgICAgICAgIGJ1ZGdldCA9IHVuZGVyQnVkZ2V0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnVkZ2V0ID0gb3ZlckJ1ZGdldFxuICAgICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB0b3RhbENvdW50OiBgSW4gdGhlIE1vbnRoIG9mICR7dGhpcy5nZXRDdXJyZW50TW9udGgoKX0geW91IHNwZW50IGEgdG90YWwgb2YgJCR7Y291bnR9LjAwYCxcbiAgICAgICAgUmVtYWluaW5nQnVkZ2V0OiBidWRnZXQsXG4gICAgICAgIGV4cGVuc2VCYW5uZXI6IGAke3RoaXMuZ2V0Q3VycmVudE1vbnRoKCl9J3MgQnVkZ2V0IFJlcG9ydGBcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBjb3VudFxuICAgIH1cblxucmVuZGVyKCkge1xuICByZXR1cm4gKFxuICA8ZGl2PlxuICAgICAgICA8aDM+TG9nIEV4cGVuc2VzPC9oMz5cbiAgICAgICAgPGZvcm0+XG4gICAgICAgIDxsYWJlbD5cbiAgICAgICAgICBEYXRlOlxuICAgICAgICAgIDxpbnB1dCBuYW1lPVwiZGF0ZVwiIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZUl0ZW19IHR5cGU9XCJkYXRlXCIgdmFsdWU9e3RoaXMuc3RhdGUuZXhwZW5zZS5kYXRlfS8+XG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgSXRlbTpcbiAgICAgICAgICA8aW5wdXQgbmFtZT1cIml0ZW1cIiBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VJdGVtfSB0eXBlPVwidGV4dFwiIHZhbHVlPXt0aGlzLnN0YXRlLmV4cGVuc2UuaXRlbX0gcGxhY2Vob2xkZXI9XCJ0eXBlIGV4cGVuc2UgaGVyZSAuLi4uXCIvPlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICBQcmljZTpcbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIG5hbWU9XCJwcmljZVwiIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZVByaWNlfSB0eXBlPVwibnVtYmVyXCIgdmFsdWU9e3RoaXMuc3RhdGUuZXhwZW5zZS5wcmljZX0gcGxhY2Vob2xkZXI9XCJlbnRlciB3aG9sZSBwcmljZSBvbmx5XCIgLz57XCIgXCJ9XG4gICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZVN1Ym1pdH0+U3VibWl0PC9idXR0b24+XG4gICAgICAgICAgPGJyLz5cbiAgICAgICAgICA8YnIvPlxuICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDx1bD5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5leHBlbnNlTGlzdC5tYXAoKGxpc3QsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICB7bGlzdC5kYXRlfSDinpYge2xpc3QuaXRlbX0g4p6WICR7bGlzdC5wcmljZX0uMDBcbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxicj5cbiAgICAgICAgPC9icj5cbiAgICAgICAgPGltZyBzcmM9Jy9saW5lLmpwZWcnICB3aWR0aD1cIjM1MFwiXG4gICAgICAgICAgICBoZWlnaHQ9XCIxMFwiPjwvaW1nPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxwPnt0aGlzLnN0YXRlLmV4cGVuc2VCYW5uZXJ9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIHt0aGlzLnN0YXRlLnRvdGFsQ291bnR9XG4gICAgICAgIDxwPlxuICAgICAgICAgIHt0aGlzLnN0YXRlLlJlbWFpbmluZ0J1ZGdldH1cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ1ZGdldFwiIG9uQ2xpY2s9e3RoaXMuYW5hbHl6ZX0+R2VuZXJhdGUgQnVkZ2V0IFJlcG9ydDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgPC9kaXY+KVxuICB9XG59XG5cblxuXG5jbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB0aGlzLnN0YXRlID0ge1xuICAgIGJ1ZGdldHM6IHtcbiAgICAgIGJ1ZGdldDogJydcbiAgICB9LFxuICAgIGN1cnJlbnRCdWRnZXQ6IFwiXCIsXG4gICAgZGF0ZTogbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpXG4gIH07XG5cbiAgdGhpcy50aWNrLmJpbmQodGhpcylcbiAgdGhpcy5oYW5kbGVBbHRlcm5hdGUgPSB0aGlzLmhhbmRsZUFsdGVybmF0ZS5iaW5kKHRoaXMpXG4gIHRoaXMuaGFuZGxlQnVkZ2V0Q2hhbmdlID0gdGhpcy5oYW5kbGVCdWRnZXRDaGFuZ2UuYmluZCh0aGlzKVxuICB0aGlzLmdldEN1cnJlbnRNb250aCA9IHRoaXMuZ2V0Q3VycmVudE1vbnRoLmJpbmQodGhpcylcbn1cblxuICBjb21wb25lbnREaWRNb3VudCA9ICgpID0+IHtcbiAgICB0aGlzLmludGVydmFsSUQgPSBzZXRJbnRlcnZhbChcbiAgICAgICgpID0+IHRoaXMudGljaygpLFxuICAgICAgMTAwMFxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJRCk7XG5cbiAgfVxuXG4gIHRpY2sgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKClcbiAgICB9KTtcbiAgfVxuXG5nZXRDdXJyZW50TW9udGggPSAoKSA9PiB7XG4gIHZhciBtb250aE5hbWVzID0gW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl07XG4gIHZhciBtb250aCA9IG1vbnRoTmFtZXNbbmV3IERhdGUoKS5nZXRNb250aCgpXVxuICByZXR1cm4gbW9udGhcbn1cblxuICBoYW5kbGVCdWRnZXRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gZS50YXJnZXQudmFsdWVcbiAgICBjb25zdCBhbGxvd2VkID0gL15bMC05XFxiXSskLztcblxuICAgIGlmIChlLnRhcmdldC52YWx1ZSA9PT0gJycgfHwgYWxsb3dlZC50ZXN0KGUudGFyZ2V0LnZhbHVlKSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VycmVudEJ1ZGdldDogdmFsdWVcbiAgICB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVBbHRlcm5hdGUgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIHZhciBjdXJyZW50QnVkZ2V0ID0gdGhpcy5zdGF0ZS5jdXJyZW50QnVkZ2V0XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBidWRnZXRzOiB7ICBidWRnZXQ6IGN1cnJlbnRCdWRnZXQgfVxuICAgIH0pXG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbWFpbic+XG5cbiAgICAgICAgPGhlYWRlcj5cblxuICAgICAgICA8aW1nIHNyYz0nLi9iYW5uZXIuanBlZycgIHdpZHRoPVwiMzUwXCJcbiAgICAgICAgICAgIGhlaWdodD1cIjEwMFwiPjwvaW1nPlxuXG4gICAgICAgICAgPGgzPnt0aGlzLnN0YXRlLmRhdGV9PC9oMz5cbiAgICAgICAgPC9oZWFkZXI+XG4gICAgICAgIDxmb3JtPlxuICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBFbnRlciBCdWRnZXQ6XG4gICAgICAgICAgPGlucHV0IG5hbWUgPSBcImJ1ZGdldFwiIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUJ1ZGdldENoYW5nZX0gdHlwZT1cIm51bWJlclwiIHZhbHVlPXt0aGlzLnN0YXRlLmN1cnJlbnRCdWRnZXR9IC8+XG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUFsdGVybmF0ZS5iaW5kKHRoaXMpfT5BZGQgQnVkZ2V0PC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG5cbiAgICAgIDxkaXY+XG4gICAgICA8cD4gPGI+e3RoaXMuZ2V0Q3VycmVudE1vbnRoKCl9J3MgQnVkZ2V0OiA8L2I+PGRpdiBjbGFzc05hbWU9J2J1ZGdldFRleHQnPiR7dGhpcy5zdGF0ZS5idWRnZXRzLmJ1ZGdldH0uMDA8L2Rpdj48L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPEJ1ZGdldCBjdXJyZW50QnVkZ2V0PXt0aGlzLnN0YXRlLmN1cnJlbnRCdWRnZXR9Lz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykpOyJdfQ==